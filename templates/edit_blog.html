<!DOCTYPE html>
{% extends "base_dashboard.html" %}
{% block title %}Edit Blog{% endblock %}
{% block head %}
{{ super() }}
{% endblock %}

<html>
<body>
    {% block content %}
    <form action="{{ url_for('edit_blog', blog_link=record['blog_link']) }}" method="post">
        <div class="alert">
            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            {% for category, message in messages %}
            <span class="closebtn">&times;</span>
            <div class="{{ category }}">{{ message }}</div>
            {% endfor %}
            {% endif %}
            {% endwith %}
        </div>

        <h1>Edit Blog</h1>
        <div class="input-container">
            <i class="fa fa-picture icon"></i>
            <input type="file" name="image" id="image" accept="image/*" placeholder="Select Blog Image">
        </div>
        <div class="input-container">
            <i class="fa fa-pen icon"></i>
            <input type="text" name="title" placeholder="Blog Title" class="input-field" value="{{record['Title']}}" required>
        </div>

        <div class="input-container">
            <i class="fa fa-text"></i>
            <textarea name="body" id="summernote" class="input-field" required>{{record['Body']}}</textarea>
        </div>

        <div class="input-container">
            <i class="fa fa-tags icon"></i>
            <input type="text" name="category" class="input-field" value="{{record['category']}}" required>
        </div>

        <div class="input-container">
            <i class="fa fa-user icon"></i>
            <input class="input-field" type="text" name="author" value="{{ record['author'] }}" readonly>
        </div>

        <div class="input-container">
            <i class="fa fa-calendar icon"></i>
            <input type="date" name="publish_date" class="input-field" value="{{record['publish_date']}}" readonly>
        </div>

        <button type="submit" class="btn btn-primary">Save Update</button>
    </form>

    <script>
        $(document).ready(function () {
            $('#summernote').summernote({
                placeholder: 'Blog Content',
                tabsize: 2,
                height: 200,
            });
        });
    </script>

    {% endblock %}
</body>
</html>
