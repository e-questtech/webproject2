{% extends "base_dashboard.html" %}
{% block title %} Assign Course To Tutor {% endblock %}
{% block head %}
{{ super() }}
{% endblock %}
{% block content %}


    <div class="container">

        <!-- Flash Message Display -->
        <div class="alert">
            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            {% for category, message in messages %}
            <div class="alert alert-{{ category }}">
                <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
                {{ message }}
            </div>
            {% endfor %}
            {% endif %}
            {% endwith %}
        </div>

        <!-- Form for Assigning Course to Tutor -->
        <form action="{{ url_for('assign_tutor') }}" method="POST" style="max-width:400px; margin:auto; background-color:#f8f9fa; padding:20px; border-radius:10px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);">

            <h2 class="title" style="text-align: center; text-transform: uppercase; color: #343a40;">Assign Course To Tutor</h2>
            
            <!-- Tutor Selection -->
            <div class="form-group">
                <label for="tutor_email" style="font-weight:bold;">Select Tutor:</label>
                <select id="tutor_email" name="tutor_email" class="form-control" required>
                    <option value="" disabled selected>Select a Tutor</option>
                    {% for tutor in tutors %}
                    <option value="{{ tutor['email'] }}">{{ tutor['FIRST_NAME'] }} {{ tutor['LAST_NAME'] }}</option>
                    {% endfor %}
                </select>
            </div>

            <!-- Course Selection -->
            <div class="form-group">
                <label for="course_code" style="font-weight:bold;">Select Course:</label>
                <select id="course_code" name="course_code" class="form-control" required>
                    <option value="" disabled selected>Select a Course</option>
                    {% for course in courses %}
                    <option value="{{ course['course_code'] }}">{{ course['course_title'] }}</option>
                    {% endfor %}
                </select>
            </div>

            <!-- Submit Button -->
            <div style="text-align: center;">
                <button type="submit" class="btn btn-success" style="width: 100%;">Assign Tutor to Course</button>
            </div>

        </form>
    </div>

{% endblock %}
